<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./partials/head.ejs") %>

</head>
<body>
<!-- Навігаційна панель -->
<%- include("./partials/navbar.ejs") %>
<div class="container-fluid">
    <div class="row  min-vh-100">
        <div class="col-2 bg-dark">
            <!-- Бічна навігаційна панель -->
            <%- include("./partials/sidebar.ejs") %>

        </div>
        <div class="col-10">
            <!-- Вміст сторінки -->
            <h1 class="mt-3">Add book</h1>

            <form action="/admin-panel/add-product" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="name">Назва</label>
                    <input type="text" class="form-control" name="name" value="" id="name"
                           placeholder="Введіть назву книги">
                </div>
                <div class="form-group">
                    <label for="authors">Автори</label>
                    <input type="text" class="form-control mt-2" name="authors" value="" id="authors"
                           placeholder="Введіть авторів книги через кому">
                </div>
                <div class="form-group">
                    <label for="release_year">Рік випуску</label>
                    <input type="number" class="form-control" name="release_year" value="" id="release_year"
                           placeholder="Введіть рік випуску книги">
                </div>
                <div class="form-group">
                    <label for="pages">Кількість сторінок</label>
                    <input type="number" class="form-control" name="pages" value="" id="pages"
                           placeholder="Введіть кількість сторінок книги">
                </div>
                <div class="form-group">
                    <label for="description">Опис</label>
                    <textarea class="form-control" name="description" id="description" rows="3"
                              placeholder="Введіть опис книги"></textarea>
                </div>
                <div class="form-group mt-3">
                    <label for="image">Зображення</label>
                    <input type="file" class="form-control-file" name="image" value="" id="image" accept="image/*">
                    <img id="imagePreview" class="mt-3" src="#" alt="Прев'ю зображення"
                         style="max-width: 200px;float: right; display: none;">
                </div>
                <button type="submit" class="btn btn-primary mt-5">Додати книгу</button>

            </form>

        </div>
    </div>
</div>

</body>

<script>

    document.getElementById('image').addEventListener('change', function (event) {
        let image = event.target.files[0];
        let imagePreview = document.getElementById('imagePreview');


        if (image.type.startsWith('image/')) {
            let reader = new FileReader();
            reader.readAsDataURL(image);

            reader.onload = function () {
                imagePreview.src = reader.result;
                imagePreview.style.display = 'block';
            };
        }
    });
</script>
</html>